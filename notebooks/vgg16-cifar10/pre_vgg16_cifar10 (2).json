{"paragraphs":[{"text":"%spark.dep\nz.reset()\nz.load(\"org.nd4j:nd4j-native-platform:0.9.1\")\nz.load(\"org.deeplearning4j:deeplearning4j-core:0.9.1\")\nz.load(\"org.datavec:datavec-spark_2.11:0.9.1_spark_2\")\nz.load(\"org.deeplearning4j:dl4j-spark_2.11:0.9.1_spark_2\")\nz.load(\"org.deeplearning4j:deeplearning4j-zoo:0.9.1\")","dateUpdated":"2019-09-03T04:23:47+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res0: org.apache.zeppelin.dep.Dependency = org.apache.zeppelin.dep.Dependency@1329bf69\n"}]},"apps":[],"jobName":"paragraph_1567484571813_1920774663","id":"20190813-010616_2021083357","dateCreated":"2019-09-03T04:22:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:186","user":"anonymous","dateFinished":"2019-09-03T04:24:08+0000","dateStarted":"2019-09-03T04:23:47+0000"},{"text":"import scala.collection.JavaConversions._\n\nimport org.deeplearning4j.datasets.iterator._\nimport org.deeplearning4j.datasets.iterator.impl._\nimport org.deeplearning4j.eval.Evaluation\nimport org.deeplearning4j.zoo.model.VGG16\n\nimport org.apache.spark.SparkConf\nimport org.deeplearning4j.nn.graph.ComputationGraph\nimport org.apache.spark.api.java.JavaRDD\nimport org.apache.spark.api.java.JavaSparkContext\nimport org.nd4j.linalg.dataset.DataSet","dateUpdated":"2019-09-03T04:23:47+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import scala.collection.JavaConversions._\nimport org.deeplearning4j.datasets.iterator._\nimport org.deeplearning4j.datasets.iterator.impl._\nimport org.deeplearning4j.eval.Evaluation\nimport org.deeplearning4j.zoo.model.VGG16\nimport org.apache.spark.SparkConf\nimport org.deeplearning4j.nn.graph.ComputationGraph\nimport org.apache.spark.api.java.JavaRDD\nimport org.apache.spark.api.java.JavaSparkContext\nimport org.nd4j.linalg.dataset.DataSet\n"}]},"apps":[],"jobName":"paragraph_1567484571817_1919235668","id":"20190813-010626_1430679682","dateCreated":"2019-09-03T04:22:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:187","user":"anonymous","dateFinished":"2019-09-03T04:24:23+0000","dateStarted":"2019-09-03T04:23:48+0000"},{"text":"import org.datavec.image.loader.CifarLoader\n\nval numberOfLabels = CifarLoader.NUM_LABELS\nval numberOfSamples = CifarLoader.NUM_TRAIN_IMAGES\nval numberOfTestSamples = CifarLoader.NUM_TEST_IMAGES\nval batchSizePerWorker = 16","dateUpdated":"2019-09-03T04:23:48+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.datavec.image.loader.CifarLoader\nnumberOfLabels: Int = 10\nnumberOfSamples: Int = 50000\nnumberOfTestSamples: Int = 10000\nbatchSizePerWorker: Int = 16\n"}]},"apps":[],"jobName":"paragraph_1567484571817_1919235668","id":"20190828-044726_487790819","dateCreated":"2019-09-03T04:22:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:188","user":"anonymous","dateFinished":"2019-09-03T04:24:24+0000","dateStarted":"2019-09-03T04:24:08+0000"},{"text":"import org.datavec.image.loader.BaseImageLoader\nimport collection.JavaConverters._\nimport java.io.File\n\nval states = Map(\"filesFilename\" -> \"cifar-10-binary.tar.gz\", \"filesURL\" -> \"https://storage.googleapis.com/ufrgsneuwald/~kriz/cifar-10-binary.tar.gz\", \"filesFilenameUnzipped\" -> \"cifar-10-batches-bin\")\n\nBaseImageLoader.downloadAndUntar(states, new File(new File(System.getProperty(\"user.home\")), \"cifar\"))","dateUpdated":"2019-09-03T04:23:48+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.datavec.image.loader.BaseImageLoader\nimport collection.JavaConverters._\nimport java.io.File\nstates: scala.collection.immutable.Map[String,String] = Map(filesFilename -> cifar-10-binary.tar.gz, filesURL -> https://storage.googleapis.com/ufrgsneuwald/~kriz/cifar-10-binary.tar.gz, filesFilenameUnzipped -> cifar-10-batches-bin)\n"}]},"apps":[],"jobName":"paragraph_1567484571817_1919235668","id":"20190828-053243_1540319826","dateCreated":"2019-09-03T04:22:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:189","user":"anonymous","dateFinished":"2019-09-03T04:24:30+0000","dateStarted":"2019-09-03T04:24:23+0000"},{"text":"val testDataSet = new CifarDataSetIterator(batchSizePerWorker, numberOfTestSamples, false)\nimport scala.collection.mutable.ListBuffer\n\nval testDataList = new ListBuffer[DataSet]()\nwhile (testDataSet.hasNext()) {\n  testDataList += testDataSet.next()\n}\n\nval testData = sc.parallelize(testDataList)","dateUpdated":"2019-09-03T04:23:48+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"testDataSet: org.deeplearning4j.datasets.iterator.impl.CifarDataSetIterator = org.deeplearning4j.datasets.iterator.impl.CifarDataSetIterator@3542253\nimport scala.collection.mutable.ListBuffer\ntestDataList: scala.collection.mutable.ListBuffer[org.nd4j.linalg.dataset.DataSet] = ListBuffer()\ntestData: org.apache.spark.rdd.RDD[org.nd4j.linalg.dataset.DataSet] = ParallelCollectionRDD[0] at parallelize at <console>:53\n"}]},"apps":[],"jobName":"paragraph_1567484571818_1920389914","id":"20190828-044805_1310907596","dateCreated":"2019-09-03T04:22:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:190","user":"anonymous","dateFinished":"2019-09-03T04:24:36+0000","dateStarted":"2019-09-03T04:24:24+0000"},{"text":"val seed = 123456 // integer for reproducability of a random number generator\nval zooModel2 = new VGG16(numberOfLabels, seed, 3)\nimport org.deeplearning4j.zoo.PretrainedType\nval m = zooModel2.initPretrained(PretrainedType.CIFAR10).asInstanceOf[ComputationGraph]\n","dateUpdated":"2019-09-03T04:23:48+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{},"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"seed: Int = 123456\nzooModel2: org.deeplearning4j.zoo.model.VGG16 = org.deeplearning4j.zoo.model.VGG16@44e69ab0\nimport org.deeplearning4j.zoo.PretrainedType\nm: org.deeplearning4j.nn.graph.ComputationGraph = org.deeplearning4j.nn.graph.ComputationGraph@72a0c73d\n"}]},"apps":[],"jobName":"paragraph_1567484571818_1920389914","id":"20190813-014219_2027485131","dateCreated":"2019-09-03T04:22:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:191","user":"anonymous","dateFinished":"2019-09-03T04:24:50+0000","dateStarted":"2019-09-03T04:24:30+0000"},{"text":"import org.deeplearning4j.spark.impl.graph.SparkComputationGraph\nval sparkNetCG = new SparkComputationGraph(sc, m, null)\nval resultado = sparkNetCG.doEvaluation(testData, 64, new Evaluation(10))\nprintln(resultado(0))","dateUpdated":"2019-09-03T04:23:48+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":{"0":{"graph":{"mode":"table","height":424,"optionOpen":false}}},"enabled":true,"editorSetting":{"language":"scala"}},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.deeplearning4j.spark.impl.graph.SparkComputationGraph\nsparkNetCG: org.deeplearning4j.spark.impl.graph.SparkComputationGraph = org.deeplearning4j.spark.impl.graph.SparkComputationGraph@43975341\nresultado: Array[org.deeplearning4j.eval.Evaluation] =\nArray(\nExamples labeled as 0 classified by model as 0: 924 times\nExamples labeled as 0 classified by model as 1: 13 times\nExamples labeled as 0 classified by model as 2: 10 times\nExamples labeled as 0 classified by model as 3: 20 times\nExamples labeled as 0 classified by model as 5: 13 times\nExamples labeled as 0 classified by model as 6: 1 times\nExamples labeled as 0 classified by model as 7: 4 times\nExamples labeled as 0 classified by model as 8: 11 times\nExamples labeled as 0 classified by model as 9: 4 times\nExamples labeled as 1 classified by model as 0: 81 times\nExamples labeled as 1 classified by model as 1: 838 times\nExamples labeled as 1 classified by model as 2: 2 times\nExamples labeled as 1 classified by model as 3: 12 ti...\nExamples labeled as 0 classified by model as 0: 924 times\nExamples labeled as 0 classified by model as 1: 13 times\nExamples labeled as 0 classified by model as 2: 10 times\nExamples labeled as 0 classified by model as 3: 20 times\nExamples labeled as 0 classified by model as 5: 13 times\nExamples labeled as 0 classified by model as 6: 1 times\nExamples labeled as 0 classified by model as 7: 4 times\nExamples labeled as 0 classified by model as 8: 11 times\nExamples labeled as 0 classified by model as 9: 4 times\nExamples labeled as 1 classified by model as 0: 81 times\nExamples labeled as 1 classified by model as 1: 838 times\nExamples labeled as 1 classified by model as 2: 2 times\nExamples labeled as 1 classified by model as 3: 12 times\nExamples labeled as 1 classified by model as 5: 8 times\nExamples labeled as 1 classified by model as 6: 2 times\nExamples labeled as 1 classified by model as 7: 1 times\nExamples labeled as 1 classified by model as 8: 22 times\nExamples labeled as 1 classified by model as 9: 34 times\nExamples labeled as 2 classified by model as 0: 379 times\nExamples labeled as 2 classified by model as 1: 13 times\nExamples labeled as 2 classified by model as 2: 437 times\nExamples labeled as 2 classified by model as 3: 41 times\nExamples labeled as 2 classified by model as 4: 3 times\nExamples labeled as 2 classified by model as 5: 112 times\nExamples labeled as 2 classified by model as 7: 13 times\nExamples labeled as 2 classified by model as 8: 2 times\nExamples labeled as 3 classified by model as 0: 318 times\nExamples labeled as 3 classified by model as 1: 22 times\nExamples labeled as 3 classified by model as 2: 26 times\nExamples labeled as 3 classified by model as 3: 365 times\nExamples labeled as 3 classified by model as 5: 206 times\nExamples labeled as 3 classified by model as 6: 3 times\nExamples labeled as 3 classified by model as 7: 40 times\nExamples labeled as 3 classified by model as 8: 8 times\nExamples labeled as 3 classified by model as 9: 12 times\nExamples labeled as 4 classified by model as 0: 444 times\nExamples labeled as 4 classified by model as 1: 28 times\nExamples labeled as 4 classified by model as 2: 61 times\nExamples labeled as 4 classified by model as 3: 135 times\nExamples labeled as 4 classified by model as 4: 80 times\nExamples labeled as 4 classified by model as 5: 148 times\nExamples labeled as 4 classified by model as 6: 7 times\nExamples labeled as 4 classified by model as 7: 94 times\nExamples labeled as 4 classified by model as 8: 2 times\nExamples labeled as 4 classified by model as 9: 1 times\nExamples labeled as 5 classified by model as 0: 183 times\nExamples labeled as 5 classified by model as 1: 14 times\nExamples labeled as 5 classified by model as 2: 28 times\nExamples labeled as 5 classified by model as 3: 47 times\nExamples labeled as 5 classified by model as 4: 1 times\nExamples labeled as 5 classified by model as 5: 694 times\nExamples labeled as 5 classified by model as 6: 3 times\nExamples labeled as 5 classified by model as 7: 26 times\nExamples labeled as 5 classified by model as 8: 1 times\nExamples labeled as 5 classified by model as 9: 3 times\nExamples labeled as 6 classified by model as 0: 415 times\nExamples labeled as 6 classified by model as 1: 152 times\nExamples labeled as 6 classified by model as 2: 32 times\nExamples labeled as 6 classified by model as 3: 67 times\nExamples labeled as 6 classified by model as 5: 68 times\nExamples labeled as 6 classified by model as 6: 216 times\nExamples labeled as 6 classified by model as 7: 18 times\nExamples labeled as 6 classified by model as 8: 20 times\nExamples labeled as 6 classified by model as 9: 12 times\nExamples labeled as 7 classified by model as 0: 179 times\nExamples labeled as 7 classified by model as 1: 18 times\nExamples labeled as 7 classified by model as 2: 9 times\nExamples labeled as 7 classified by model as 3: 15 times\nExamples labeled as 7 classified by model as 5: 126 times\nExamples labeled as 7 classified by model as 7: 647 times\nExamples labeled as 7 classified by model as 8: 1 times\nExamples labeled as 7 classified by model as 9: 5 times\nExamples labeled as 8 classified by model as 0: 390 times\nExamples labeled as 8 classified by model as 1: 62 times\nExamples labeled as 8 classified by model as 2: 12 times\nExamples labeled as 8 classified by model as 3: 29 times\nExamples labeled as 8 classified by model as 5: 11 times\nExamples labeled as 8 classified by model as 7: 7 times\nExamples labeled as 8 classified by model as 8: 484 times\nExamples labeled as 8 classified by model as 9: 5 times\nExamples labeled as 9 classified by model as 0: 111 times\nExamples labeled as 9 classified by model as 1: 163 times\nExamples labeled as 9 classified by model as 2: 1 times\nExamples labeled as 9 classified by model as 3: 16 times\nExamples labeled as 9 classified by model as 5: 14 times\nExamples labeled as 9 classified by model as 7: 8 times\nExamples labeled as 9 classified by model as 8: 6 times\nExamples labeled as 9 classified by model as 9: 681 times\n\n\n==========================Scores========================================\n # of classes:    10\n Accuracy:        0.5366\n Precision:       0.7001\n Recall:          0.5366\n F1 Score:        0.5267\nPrecision, recall & F1: macro-averaged (equally weighted avg. of 10 classes)\n========================================================================\n"}]},"apps":[],"jobName":"paragraph_1567484571818_1920389914","id":"20190831-215135_666155718","dateCreated":"2019-09-03T04:22:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:192","user":"anonymous","dateFinished":"2019-09-03T04:25:32+0000","dateStarted":"2019-09-03T04:24:37+0000"},{"user":"anonymous","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1567484855000_2071412866","id":"20190903-042735_629842794","dateCreated":"2019-09-03T04:27:35+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:1118"}],"name":"pre_vgg16_cifar10","id":"2EPGCYF1T","angularObjects":{"2EPNM7D44:shared_process":[],"2ENMUD3B2:shared_process":[],"2EM9RE7C3:shared_process":[],"2ENT8DRPQ:shared_process":[],"2EN2PK18W:shared_process":[],"2EMW5U83R:shared_process":[],"2EK8JX8WF:shared_process":[],"2EP1SP3BP:shared_process":[],"2EMUMJWSU:shared_process":[],"2EN8PD3N1:shared_process":[],"2EKPHSGS2:shared_process":[],"2EKSE1TQF:shared_process":[],"2EP94QY64:shared_process":[],"2EP9HK3N2:shared_process":[],"2EKTG5ZFP:shared_process":[],"2ENJ1HVAP:shared_process":[],"2EKZPWGZ7:shared_process":[],"2EN5YYE65:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}